<div id="productos-content" class="p-2">
    <div class="items-center justify-center w-full">
        <!-- Botón para añadir -->
        <div class="flex justify-end items-end mb-2 w-full">
            <button onclick="abrirModalPrincipal('añadir')" id="btn-agregar" class="text-white p-2 rounded-full cursor-pointer">
                <img src="../../../static/images/plus.png" class="w-7 h-7">
            </button>
        </div>

        <!-- Grid de cards de galletas -->
        <div class="overflow-x-auto overflow-y-auto">
            <div id="galletas-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                <!-- Las cards se insertarán aquí -->
            </div>
        </div>
    </div>

    <!-- Modal Principal: agregar/editar galleta -->
    <div id="modalBackdrop" class="fixed inset-0 bg-black/50 z-50 hidden">
        <!-- Modal añadir/editar -->
        <div id="modalForm"
            class="bg-white rounded-lg p-6 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2/3">
            <!-- Encabezado del modal -->
            <div class="bg-[#efe6dc] rounded-t-lg p-4 -m-6 mb-4 flex justify-center items-center relative">
                <h2 id="modal-titulo" class="text-[#3C1D0C] font-semibold text-center">Agregar Producto</h2>
                <button onclick="cerrarModalPrincipal()"
                    class="text-black hover:text-gray-700 absolute right-4 cursor-pointer">
                    <img src="../../../static/images/cerrar.png" class="w-6 h-6">
                </button>
            </div>

            <!-- Formulario -->
            <form id="galletaForm" class="space-y-4">
                <!-- Campo para id de la galleta -->
                <input type="number" name="galleta_id" value="0" hidden>

                <!-- Primer fila: nombre de la galleta y dias de vida en anaquel -->
                <div class="grid grid-cols-2 gap-4">
                    <!-- campo de nombre -->
                    <div>
                        <label class="block text-[#895645] mb-1">Nombre de la galleta</label>
                        <input type="text" name="nombre-galleta" class="w-full p-2 border border-[#895645] rounded-full"
                            required>
                    </div>
                    <!-- campo de dias de vida en anaquel -->
                    <div>
                        <label class="block text-[#895645] mb-1">Días de vida</label>
                        <input type="number" min="1" step="1" max="30" name="dias-vida"
                            class="w-full p-2 border border-[#895645] rounded-full" required>
                    </div>
                </div>

                <!-- Segunda fila: gramos de la galleta, proteccion del precio precio sugerido -->
                <div class="grid grid-cols-3 gap-4">
                    <!-- campo de gramos galleta -->
                    <div>
                        <label class="block text-[#895645] bm-1">Gramos de la galleta</label>
                        <input type="number" step="0.1" name="gramos-galleta"
                            class="w-full p-2 border border-[#895645] rounded-full">
                    </div>
                    <!-- Proteccion de precio -->
                    <div>
                        <label class="block text-[#895645] bm-1">Protección del precio</label>
                        <input type="number" step="0.1" name="proteccion-precio"
                            class="w-full p-2 border border-[#895645] rounded-full">
                    </div>
                    <!-- Precio sugerido -->
                    <div>
                        <label class="block text-[#895645] bm-1">Precio sugerido</label>
                        <input type="number" step="0.1" name="precio-sugerido"
                            class="w-full p-2 border border-[#895645] rounded-full" disabled>
                    </div>
                </div>
            </form>

            <!-- Apartado para ver recetas -->
            <div class="w-full overflow-y-auto mt-4 border-t border-[#895645]">
                <div class="flex pt-3 w-full justify-center">
                    <h3 class="font-semibold">Recetas</h3>
                </div>
                <div class="flex w-full justify-end">
                    <button id="btn-agregar-receta" onclick="abrirModalSecundario('añadir')"
                        class="text-black hover:text-gray-700 cursor-pointer">
                        <img src="../../../static/images/plus.png" class="w-7 h-7">
                    </button>
                </div>
                <!-- Cards de Recetas Agregadas (cards con informacion general) -->
                <div id="recetas-container" class="mt-4 w-full space-y-3 border">
                    <p>aquí van las cards con informacion general de las recetas</p>
                </div>
            </div>

            <!-- Botón Guardar general (guardar la galleta y la(s) receta(s)) -->
            <button type="submit" onclick="guardarGalletaReceta()"
                class="w-full mt-4 py-2 bg-[#efe6dc] text-[#3C1D0C] rounded-full border border-[#895645] font-semibold flex items-center justify-center gap-2 hover:bg-[#a46a52] cursor-pointer">
                <img src="../../../static/images/guardar 3C1D0C.png" class="w-5 h-5">
                Guardar
            </button>
        </div>
    </div>

    <!-- Modal secundario: receta -->
    <div id="modalBackdropSecundario" class="fixed inset-0 bg-black/50 z-50 hidden">
        <!-- Modal secundario añadir/editar -->
        <div id="modalFormSecundario" class="hidden bg-white rounded-lg p-6 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[40rem] max-w-[95vw]">
            <!-- Encabezado del modal secundario -->
            <div class="bg-[#efe6dc] rounded-t-lg p-4 -m-6 mb-4 flex justify-center items-center relative">
                <h2 id="modal-titulo-secundario" class="text-[#3C1D0C] font-semibold text-center">Añadir proveedor</h2>
                <button onclick="cerrarModalSecundario()" class="text-black hover:text-gray-700 absolute right-4 cursor-pointer">
                    <img src="../../../static/images/cerrar.png" class="w-6 h-6">
                </button>
            </div>

            <!-- campo de busqueda dinamica -->
            <div class="relative w-96 mx-auto">
                <input type="text" name="buscar" placeholder="Buscar..." oninput="filtrarTabla()"
                    class="w-full pl-4 pr-10 py-1 border border-[#895645] rounded-full">

                <!-- Icono de lupa -->
                <div class="absolute right-3 top-1/3 pt-1 transform -translate-y-1/2">
                    <img src="./../../../static/images/magnifying glass.png" class="w-6 h-6">
                </div>
            </div>

            <!-- Lista de Insumos Seleccionados -->
            <div id="insumos-seleccionados" class="space-y-2 overflow-y-auto mt-4 mb-4 border">
                <p>aqui van los insumos seleccionado con su respectivo input de cantidad</p>
            </div>

            <!-- Botón Guardar receta -->
            <button type="submit" onclick="guardarReceta()"
                class="w-full py-2 bg-[#efe6dc] text-[#3C1D0C] rounded-full border border-[#895645] font-semibold flex items-center justify-center gap-2 hover:bg-[#a46a52] cursor-pointer">
                <img src="../../../static/images/guardar 3C1D0C.png" class="w-5 h-5">
                Guardar
            </button>
        </div>
    </div>

    <!-- loader -->
    <div id="loader" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center" hidden>
        <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col items-center">
            <img src="../../../static/images/LogoGalleto.png" alt="Cargando..." class="h-16 w-16 animate-spin">
            <span class="mt-4 text-gray-700 font-semibold">Cargando...</span>
        </div>
    </div>
</div>